<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рд░рд╛рд╖реНрдЯреНрд░реАрдп рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХ рд╕рдВрдШ | рд╡рд┐рдЬрдпрджрд╢рдореА рдЙрддреНрд╕рд╡</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Baloo 2 for Devanagari elegance -->
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMDJ8gT4SPG1T6MCT2wS7k2Vz9oD5n6N3sH6a3lJ6P+n5q7oR9tE7Kj1g5o9i+A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Custom Devanagari Font */
        .devanagari {
            font-family: 'Baloo 2', cursive;
        }

        /* Dynamic Background with Saffron/Gold/Maroon Palette */
        body {
            background: linear-gradient(-45deg, #FF6600, #FFD700, #800000, #FF4500);
            background-size: 400% 400%;
            animation: gradient-bg 15s ease infinite;
        }

        @keyframes gradient-bg {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Flag Waving Animation */
        .flag-container {
            perspective: 500px;
        }

        .bhagwa-flag {
            /* Saffron Color */
            background-color: #FF9933;
            box-shadow: 0 4px 15px rgba(255, 153, 51, 0.5);
            transform-origin: 0% 50%;
            animation: wave 3s infinite alternate;
        }

        @keyframes wave {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(5deg); }
        }

        /* Sparkle effect using filter on hover/touch */
        .bhagwa-flag:hover, .bhagwa-flag.touched {
            filter: drop-shadow(0 0 10px #FFD700) drop-shadow(0 0 20px #FF9933);
        }

        /* Custom Card Styles */
        #card-preview-container {
            height: 350px; /* Fixed height for canvas */
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            border: 4px solid #FF9933;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            background-color: white;
            border-radius: 1rem;
            overflow: hidden;
            position: relative;
        }
        
        /* Particle effect for flag sparkle */
        .particle {
            position: absolute;
            background: radial-gradient(circle, #ffd700, #ff9933);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            width: 8px;
            height: 8px;
            z-index: 50;
        }

        .fade-in {
            animation: fadeIn 1s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .contact-info > div {
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body class="min-h-screen text-gray-900 dewanagari p-2 md:p-6">
    <div id="app-container" class="max-w-6xl mx-auto bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-4 md:p-8 space-y-12">

        <!-- 1. Top Banner / Header Strip -->
        <header class="text-center text-sm md:text-base font-bold text-white bg-[#800000] p-2 rounded-xl shadow-lg">
            <div class="flex justify-between items-center max-w-4xl mx-auto dewanagari">
                <span class="p-1">рдпреБрдЧрд╛рдмреНрдж релрезреирен</span>
                <span class="text-xl md:text-2xl font-extrabold text-[#FFD700]">редред реР редред</span>
                <span class="p-1">рд╢рд┐рд╡рд░рд╛рдЬ рд╢рдХреЗ рейрелрез</span>
            </div>
        </header>

        <!-- 2. Hero Section -->
        <section id="hero" class="text-center relative overflow-hidden p-6 md:p-10 rounded-2xl bg-gradient-to-br from-white to-[#fff0e6] shadow-xl border-t-4 border-[#FF9933] fade-in">
            <div class="flex flex-col md:flex-row items-center justify-between">
                <!-- Titles and Countdown -->
                <div class="md:w-3/5 text-center md:text-left">
                    <h1 class="text-3xl md:text-5xl font-extrabold text-[#FF6600] leading-tight mb-2">
                        рд░рд╛рд╖реНрдЯреНрд░реАрдп рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХ рд╕рдВрдШ, рд╢рд┐рд░рдкреВрд░
                    </h1>
                    <h2 class="text-xl md:text-3xl font-bold text-[#800000] mb-6">
                        рд╡рд┐рдЬрдпрджрд╢рдореА рдЙрддреНрд╕рд╡
                    </h2>
                    
                    <!-- Countdown Timer -->
                    <div class="mt-8 bg-[#FF9933]/10 p-4 rounded-xl shadow-inner inline-block">
                        <p id="countdown-title" class="text-lg md:text-xl font-bold text-[#800000] mb-2">
                            рдкрде-рд╕рдВрдЪрд▓рди рд╕реБрд░реВ рд╣реЛрдгреНрдпрд╛рд╕ рдмрд╛рдХреА
                        </p>
                        <div id="countdown-timer" class="flex justify-center md:justify-start space-x-2 md:space-x-4 text-4xl md:text-5xl font-extrabold text-[#FF4500]">
                            <!-- Timer values inserted by JS -->
                        </div>
                        <p class="text-sm md:text-base text-gray-600 mt-2">
                            рджрд┐рдирд╛рдВрдХ: реи рдСрдХреНрдЯреЛрдмрд░, рд╕рдХрд╛рд│реА режреп рд╡рд╛рдЬреЗрдкрд╛рд╕реВрди
                        </p>
                    </div>
                </div>

                <!-- Animated Bhagwa Flag -->
                <div class="md:w-2/5 flex justify-center md:justify-end mt-8 md:mt-0 flag-container">
                    <div id="bhagwa-flag" class="bhagwa-flag w-40 h-60 md:w-48 md:h-72 rounded-t-lg transition-all duration-300 relative cursor-pointer" onclick="handleFlagTouch(event)" onmouseover="handleFlagTouch(event)">
                        <div class="text-center absolute bottom-0 left-1/2 transform -translate-x-1/2 text-white font-bold text-3xl pb-2">реР</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Invitation / Event Details Section -->
        <section id="event-details" class="p-6 md:p-10 bg-gray-50 rounded-2xl shadow-inner fade-in">
            <p class="text-xl md:text-2xl font-bold text-[#800000] mb-4">рд╢реНрд░реАрдорд╛рди / рд╢реНрд░реАрдорддреА, рд╕рд╕реНрдиреЗрд╣ рдирдорд╕реНрдХрд╛рд░</p>
            <p class="text-base md:text-lg text-gray-700 leading-relaxed mb-6">
                рд╢реНрд░реА рд╡рд┐рдЬрдпрджрд╢рдореА рдореНрд╣рдгрдЬреЗ рдкреМрд░реБрд╖ рддрдерд╛ рд╢рдХреНрддрд┐ рдЬрд╛рдЧрд░рдгрдЪрд╛ рдкрд╡рд┐рддреНрд░ рд╕рдг, рдорд╛рдирд╡реА рдХрд▓реНрдпрд╛рдг рд╣рд╛ рдЙрджреНрджреЗрд╢ рдШреЗрдКрди рд╡рд╛рдЯрдЪрд╛рд▓ рдХрд░рдгрд╛рд▒реНрдпрд╛ рдЖрдкрд▓реНрдпрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХ рд╕рдВрдШрд╛рдиреЗ рдХрд╛рд░реНрдп рдХрд╛ рдкрд╡рд┐рддреНрд░ рд╕рдгрд╛рд▓рд╛ рд╕реБрд░реБ рдЭрд╛рд▓реЗ, рдЬреНрдпрд╛рд▓рд╛ рдпрд╛ рд╡рд░реНрд╖реА резрежреж рд╡рд░реНрд╖ рдкреВрд░реНрдг рд╣реЛрдд рдЖрд╣реЗрдд. рд╢рддрд╛рдмреНрджреА рд╡рд░реНрд╖рд╛рдЪреНрдпрд╛ рдпрд╛ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╕реЛрд╣рд│реНрдпрд╛рдЪреЗ рдЖрдкрдг рд╕рд╛рдХреНрд╖реАрджрд╛рд░ рд░рд╣рд╛рд╡реЗ рдЖрдкрдгрд╛рд╕ рд╣реЗ рд╕реНрдиреЗрд╣рдкреВрд░реНрдг рдирд┐рдордВрддреНрд░рдг.
            </p>

            <div class="grid md:grid-cols-2 gap-6 mt-8">
                <!-- Event Details Box -->
                <div class="bg-[#FFF8E1] p-6 rounded-xl shadow-lg border-l-4 border-[#FF9933]">
                    <h3 class="text-xl font-extrabold text-[#FF6600] mb-3">рдЙрддреНрд╕рд╡рд╛рдЪреЗ рддрдкрд╢реАрд▓</h3>
                    <p class="mb-2"><span class="font-bold text-[#800000]">рджрд┐рдирд╛рдВрдХ:</span> рдЖрд╢реНрд╡рд┐рди рд╢реБрджреНрдз рджреНрд╡рд╛рджрд╢реА, рджрд┐.режрек рдСрдХреНрдЯреЛрдмрд░. реирежреирел рд╢рдирд┐рд╡рд╛рд░, рд╡реЗрд│ : рд╕рд╛рдпрдВрдХрд╛рд│реА режрем рд╡рд╛.</p>
                    <p class="mb-2"><span class="font-bold text-[#800000]">рд╕реНрдерд│:</span> рд╢рд┐рд░рдкреВрд░ рддрд╛рд▓реБрдХрд╛ рдХреНрд░реАрдбрд╛ рд╕рдВрдХреБрд▓, рдмрдЬрд░рдВрдЧрджрд╛рдврд╛ рдЬрд┐рдордЦрд╛рдирд╛ рдорд╛рдЧреЗ, рдмрд╛рдЬрд╛рд░ рд╕рдорд┐рддреА рдЬрд╡рд│, рд╢рд┐рд░рдкреВрд░</p>
                </div>

                <!-- Guests Box -->
                <div class="bg-white p-6 rounded-xl shadow-lg border-r-4 border-[#800000]">
                    <h3 class="text-xl font-extrabold text-[#FF6600] mb-3">рдкреНрд░рдореБрдЦ рдкрд╛рд╣реБрдгреЗ рдЖрдгрд┐ рдорд╛рд░реНрдЧрджрд░реНрд╢рди</h3>
                    <div class="mb-4">
                        <p class="font-extrabold text-[#800000]">рдорд╛. рдбреЙ. рд╕реБрдХреНрд░рд╛рдо рдореЛрддреАрд░рд╛рдо рдкрд╛рд╡рд░рд╛</p>
                        <p class="text-sm">(рдЖрд░реЛрдЧреНрдп рджреВрдд рд╡ рд╕рдорд╛рдЬрд╕реЗрд╡рдХ, рд╕рд╛рдВрдЧрд╡реА)</p>
                        <p class="font-extrabold text-[#800000] mt-2">рдорд╛. рджрд┐рд▓реАрдк рджрдЧрдбреВ рдмрд╛рд╢рд┐рдВрдЧреЗ</p>
                        <p class="text-sm">(рд╕рдорд╛рдЬрд╕реЗрд╡рдХ, рд╕рдВрдЪрд╛рд▓рдХ, рдЧреЛрд▓реНрдбрди рдмреЕрдиреНрдб, рд╢рд┐рд░рдкреВрд░)</p>
                    </div>
                    <div class="border-t pt-3">
                        <p class="font-extrabold text-[#800000]">рдорд╛. рд╢реНрд░реА. рд░рд╡реАрдВрджреНрд░ рдЬреА рдХрд┐рд░рдХреЛрд│реЗ</p>
                        <p class="text-sm">(рдЕрдЦрд┐рд▓ рднрд╛рд░рддреАрдп рд╕рдорд░рд╕рддрд╛ рд╕рд╣рд╕рдВрдпреЛрдЬрдХ, рд░рд╛рд╖реНрдЯреНрд░реАрдп рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХ рд╕рдВрдШ)</p>
                    </div>
                </div>
            </div>
            
            <p class="mt-6 text-center text-lg font-bold text-[#800000]">
                рдЖрдкрдг рд╕рд╣рдХреБрдЯреБрдВрдм рд╕рд╣рдкрд░рд┐рд╡рд╛рд░ рдЗрд╖реНрдЯрдорд┐рддреНрд░рд╛рдВрд╕рд╣ рдирд┐рдпреЛрдЬрд┐рдд рд╡реЗрд│реЗрдкреВрд░реНрд╡реА рдЙрдкрд╕реНрдерд┐рдд рд░рд╣рд╛рд╡реЗ, рд╣рд┐ рдирдореНрд░ рд╡рд┐рдирдВрддреА.
            </p>
            <p class="mt-4 text-center text-md font-semibold text-gray-700">
                рд╡рд┐рдирд┐рдд: рдкреНрд░рд╛. рдбреЙ. рд╕реБрдиреАрд▓ рдЪреБрдиреАрд▓рд╛рд▓ рдЧреЛрд░рд╛рдгреЗ, рддрд╛рд▓реБрдХрд╛ рд╕рдВрдШрдЪрд╛рд▓рдХ, рд╢рд┐рд░рдкреВрд░
            </p>
        </section>

        <!-- 4. Pathsanchalan Information Section -->
        <section id="pathsanchalan" class="p-6 md:p-10 bg-[#FFD700]/10 rounded-2xl shadow-xl fade-in">
            <h3 class="text-2xl md:text-3xl font-extrabold text-[#800000] text-center mb-6 border-b-2 border-[#FF9933] pb-3">
                рд╕рдШреЛрд╖ рдкрдерд╕рдВрдЪрд▓рди (рдЖрд╢реНрд╡рд┐рди рд╢реБ рджрд╢рдореА рджрд┐.режреи/резреж/реирежреирел, рдЧреБрд░реБрд╡рд╛рд░ рд╕рдХрд╛рд│реА режреп рд╡рд╛.)
            </h3>
            <p class="text-base md:text-lg text-gray-700 text-center mb-8">
                рд╡рд┐рдЬрдпрджрд╢рдореАрдЪреНрдпрд╛ рд╢реБрдн рджрд┐рдиреА рдкрдерд╕рдВрдЪрд▓рди рдирд┐рдШрдгрд╛рд░ рдЖрд╣реЗ. рд╕рд░реНрд╡ рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХрд╛рдВрдиреА, рдЗрдЪреНрдЫреБрдХрдХрд╛рдВрдиреА рдпрд╛ рд╢рддрд╛рдмреНрджреА рд╡рд░реНрд╖рд╛рдЪреЗ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рдФрдЪрд┐рддреНрдпрд╛рд╡рд░ рдкреВрд░реНрдг рдЧрдгрд╡реЗрд╢рд╛рдд рд╕рдВрдЪрд▓рдирд╛рдд рд╕рд╣рднрд╛рдЧреА рд╡реНрд╣рд╛рд╡реЗ.
            </p>

            <div class="grid md:grid-cols-2 gap-8">
                <!-- Path 1: Adults/Seniors -->
                <div class="bg-white p-5 rounded-xl shadow-md border-l-4 border-[#FF6600]">
                    <h4 class="text-xl font-bold text-[#FF6600] mb-3">рдкрдерд╕рдВрдЪрд▓рди рдорд╛рд░реНрдЧ тАУ рдкреНрд░реМрдв, рдЬреНрдпреЗрд╖реНрда рдирд╛рдЧрд░рд┐рдХ</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-700">
                        <li>рдмрд╕ рд╕реНрдЯрдБрдб рд╕рдореЛрд░</li>
                        <li>рдЖрд╢реНрд░рдорд╛рд╢рд╛рд│рд╛ (рдЖрд╢реНрд░рдо)</li>
                        <li>рд╡рд┐рдЬрдпрд╕реНрддрдВрдн тАУ рдХреБрдВрднрд╛рд░ рдЯреЗрдХ</li>
                        <li>рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕реНрдерд│</li>
                    </ul>
                </div>

                <!-- Path 2: Youth -->
                <div class="bg-white p-5 rounded-xl shadow-md border-r-4 border-[#FF6600]">
                    <h4 class="text-xl font-bold text-[#FF6600] mb-3">рдкрдерд╕рдВрдЪрд▓рди рдорд╛рд░реНрдЧ тАУ рдпреБрд╡рд╛ рдирд╛рдЧрд░рд┐рдХ</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-700">
                        <li>рдорд╣рд╛рддреНрдорд╛ рдлреБрд▓реЗ рд╣рд╛рдпрд╕реНрдХреВрд▓ (рдЖрд╢реНрд░рдо)</li>
                        <li>рд╡рд┐рдЬрдпрд╕реНрддрдВрдн тАУ рдХреБрдВрднрд╛рд░ рдЯреЗрдХ</li>
                        <li>рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕реНрдерд│</li>
                    </ul>
                </div>
            </div>

            <!-- Contact Info -->
            <div class="bg-[#800000] text-white p-4 rounded-xl mt-8 text-center shadow-lg contact-info">
                <h4 class="text-lg font-bold mb-2">рдЧрдгрд╡реЗрд╢рд╛рд╕рд╛рдареА рд╕рдВрдкрд░реНрдХ:</h4>
                <div class="flex flex-col sm:flex-row justify-center sm:space-x-8">
                    <p>рд╢реНрд░реА. рдирд┐рддреАрди рдЪреМрдзрд░реА (рдирдЧрд░) <span class="font-extrabold">реореиренренрелрелрекреиреорем</span></p>
                    <p>рд╢реНрд░реА. рдирд┐рд▓реЗрд╢ рдкрд░рджреЗрд╢реА (рдЧреНрд░рд╛рдореАрдг) <span class="font-extrabold">реорейрепрежреореореорекрел</span></p>
                </div>
            </div>
        </section>

        <!-- 5. Personalized E-Invitation Card Generator Section -->
        <section id="card-generator" class="p-6 md:p-10 bg-white rounded-2xl shadow-2xl border-t-8 border-[#FFD700] fade-in">
            <h3 class="text-2xl md:text-3xl font-extrabold text-[#FF6600] text-center mb-8">
                рдЖрдкрд▓рд╛ рд╡рд┐рд╢реЗрд╖ рдирд┐рдордВрддреНрд░рдг рдкрддреНрд░рдХ рддрдпрд╛рд░ рдХрд░рд╛
            </h3>

            <div class="max-w-xl mx-auto space-y-6">
                <!-- User Input -->
                <label for="userName" class="block text-lg font-semibold text-gray-700">рдЖрдкрд▓реЗ рдирд╛рд╡ рдЗрдереЗ рд▓рд┐рд╣рд╛:</label>
                <input type="text" id="userName" placeholder="рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде: рдЬрдпреЗрд╢ рд╕реЛрдирд╛рд░" class="w-full p-3 border-2 border-[#FF9933] rounded-lg focus:outline-none focus:ring-4 focus:ring-[#FF9933]/50 transition duration-300 dewanagari text-lg">
                
                <!-- Button -->
                <button onclick="generateCard()" id="generate-btn" class="w-full bg-[#FF6600] text-white text-xl font-bold p-3 rounded-xl shadow-xl hover:bg-[#FF4500] transition duration-300 transform hover:scale-[1.02] active:scale-95 glow-button">
                    рдорд╛рдЭрд╛ рдХрд╛рд░реНрдб рддрдпрд╛рд░ рдХрд░рд╛
                </button>
            </div>

            <!-- Card Preview and Share -->
            <div id="card-result" class="mt-10 text-center hidden">
                <h4 class="text-xl font-bold text-[#800000] mb-4">рддреБрдордЪрд╛ рдХрд╛рд░реНрдб рддрдпрд╛рд░ рдЖрд╣реЗ!</h4>
                <div id="card-preview-container" class="relative">
                    <canvas id="card-canvas"></canvas>
                </div>
                
                <div id="share-controls" class="mt-6 space-y-4">
                    <button onclick="downloadCard()" class="bg-[#800000] text-white px-6 py-3 rounded-full font-bold shadow-lg hover:bg-black transition duration-300 flex items-center justify-center mx-auto space-x-2">
                        <i class="fas fa-download"></i>
                        <span>рдХрд╛рд░реНрдб рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рд╛</span>
                    </button>
                    <div class="flex justify-center space-x-4">
                        <button onclick="shareCard('whatsapp')" class="bg-green-500 text-white p-3 rounded-full hover:bg-green-600 transition duration-300 shadow-md">
                            <i class="fab fa-whatsapp text-2xl"></i>
                        </button>
                        <button onclick="shareCard('facebook')" class="bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition duration-300 shadow-md">
                            <i class="fab fa-facebook-f text-2xl"></i>
                        </button>
                        <button onclick="shareCard('copy')" class="bg-gray-700 text-white p-3 rounded-full hover:bg-gray-800 transition duration-300 shadow-md">
                            <i class="fas fa-link text-2xl"></i>
                        </button>
                    </div>
                    <p class="text-sm text-gray-500 mt-2" id="share-message"></p>
                </div>
            </div>
        </section>

        <!-- 6. Footer -->
        <footer class="text-center py-4 text-gray-500">
            <p class="text-xs">RSS рд╢рддрд╛рдмреНрджреА рд╡рд░реНрд╖ рдЙрддреНрд╕рд╡ ┬й реирежреирел</p>
            <p class="text-xs mt-1 opacity-70">Watermark: Made by Jayesh Sonar</p>
        </footer>

    </div>

    <!-- JavaScript for Functionality and Animations -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            startCountdown();
            setupFlagInteractions();
            // Ensure card canvas is resized on load
            window.addEventListener('resize', () => {
                if (!cardResult.classList.contains('hidden')) {
                    drawCard(userNameInput.value.trim());
                }
            });
        });

        // Updated TARGET_DATE to 2025 and 9:00 AM (Path Sanchalan start time)
        const TARGET_DATE = new Date("October 2, 2025 09:00:00").getTime();
        const countdownTimer = document.getElementById('countdown-timer');

        // --- COUNTDOWN LOGIC ---
        function startCountdown() {
            const updateTimer = () => {
                const now = new Date().getTime();
                let distance = TARGET_DATE - now;
                
                // Set distance to 0 if the time has passed, ensuring display is 00 00 00 00
                distance = Math.max(0, distance); 
                
                // This logic ensures the display always shows time units, even if 00.
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                const formatTime = (value, unit) => `<span class="p-1 rounded-lg bg-[#FFD700] shadow-md">${value.toString().padStart(2, '0')}</span><span class="text-lg ml-1 mr-3 text-[#800000]">${unit}</span>`;

                if (distance === 0) {
                     countdownTimer.innerHTML = '<span class="text-2xl font-bold text-[#800000]">рдХрд╛рд░реНрдпрдХреНрд░рдорд╛рд▓рд╛ рд╕реБрд░реБрд╡рд╛рдд рдЭрд╛рд▓реА!</span>';
                } else {
                    countdownTimer.innerHTML =
                        formatTime(days, 'рджрд┐рд╡рд╕') +
                        formatTime(hours, 'рддрд╛рд╕') +
                        formatTime(minutes, 'рдорд┐рдирд┐рдЯреЗ') +
                        formatTime(seconds, 'рд╕реЗрдХрдВрдж');
                }
            };

            updateTimer();
            const interval = setInterval(updateTimer, 1000);
        }
        
        // --- BHAGWA FLAG SPARKLE AND FLOWER EFFECT (UNCHANGED) ---
        const bhagwaFlag = document.getElementById('bhagwa-flag');
        const flagContainer = document.querySelector('.flag-container');

        function createParticle(x, y) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            flagContainer.appendChild(particle);

            // Randomize size and duration for a better sparkle
            const size = Math.random() * 8 + 4;
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;

            // Random direction and duration
            const angle = Math.random() * 360;
            const distance = Math.random() * 50 + 20;
            const duration = Math.random() * 1 + 0.5;

            particle.animate([
                { opacity: 1, transform: 'translate(0, 0)' },
                { opacity: 0, transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)` }
            ], {
                duration: duration * 1000,
                easing: 'ease-out'
            });

            setTimeout(() => particle.remove(), duration * 1000);
        }

        function createFlowerPetal(x, y) {
            const petal = document.createElement('div');
            petal.className = 'text-xl absolute z-40';
            petal.innerHTML = 'ЁЯМ╝'; // Marigold-like flower emoji/text
            petal.style.left = `${x}px`;
            petal.style.top = `${y}px`;
            flagContainer.appendChild(petal);

            const duration = Math.random() * 2 + 1.5;
            const sideMovement = Math.random() * 40 - 20;

            petal.animate([
                { opacity: 1, transform: 'translate(0, 0) rotate(0deg)' },
                { opacity: 0, transform: `translate(${sideMovement}px, 150px) rotate(360deg)` }
            ], {
                duration: duration * 1000,
                easing: 'ease-in'
            });

            setTimeout(() => petal.remove(), duration * 1000);
        }

        function handleFlagTouch(e) {
            const rect = bhagwaFlag.getBoundingClientRect();
            let x, y;

            if (e.type === 'click' || e.type === 'mouseover') {
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            } else if (e.touches && e.touches.length > 0) {
                // For touch events
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
                bhagwaFlag.classList.add('touched');
                setTimeout(() => bhagwaFlag.classList.remove('touched'), 500);
            } else {
                return;
            }
            
            // Create multiple particles and petals near the interaction point
            for (let i = 0; i < 5; i++) {
                createParticle(x + (Math.random() * 10 - 5), y + (Math.random() * 10 - 5));
            }
            createFlowerPetal(x, y);
        }
        
        function setupFlagInteractions() {
            bhagwaFlag.addEventListener('click', handleFlagTouch);
            bhagwaFlag.addEventListener('mouseover', handleFlagTouch);
            bhagwaFlag.addEventListener('touchstart', handleFlagTouch);
        }


        // --- CARD GENERATOR LOGIC ---
        const cardCanvas = document.getElementById('card-canvas');
        const cardContainer = document.getElementById('card-preview-container');
        const cardResult = document.getElementById('card-result');
        const userNameInput = document.getElementById('userName');
        const shareMessage = document.getElementById('share-message');
        const LOGO_URL = 'https://enormous-chocolate-u4bknp43fp.edgeone.app/86d56753-590a-49f0-b3d7-a84a67c8c8152f.jpeg';
        let logoImage = new Image();
        logoImage.crossOrigin = 'Anonymous';
        logoImage.src = LOGO_URL;

        function generateCard() {
            const userName = userNameInput.value.trim();
            if (!userName) {
                showMessage("рдХреГрдкрдпрд╛ рдЖрдкрд▓реЗ рдирд╛рд╡ рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛.", 'text-red-600');
                return;
            }
            
            cardResult.classList.remove('hidden');
            
            // Delay drawing slightly to ensure the canvas container size updates after removing 'hidden'
            setTimeout(() => drawCard(userName), 50);
        }

        function drawCard(name) {
            // Set canvas size dynamically based on container
            const width = cardContainer.clientWidth;
            const height = cardContainer.clientHeight;
            cardCanvas.width = width;
            cardCanvas.height = height;

            const ctx = cardCanvas.getContext('2d');
            
            // Background (Saffron/White gradient)
            const gradient = ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, '#FFF8E1');
            gradient.addColorStop(0.2, '#FFE5B4');
            gradient.addColorStop(1, 'white');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);

            // Border (Maroon)
            ctx.strokeStyle = '#800000';
            ctx.lineWidth = 10;
            ctx.strokeRect(0, 0, width, height);

            // RSS Logo (Top Left)
            try {
                // Draw image if loaded
                if (logoImage.complete && logoImage.naturalHeight !== 0) {
                    ctx.drawImage(logoImage, 10, 10, 70, 70);
                } else {
                    // Fallback for logo
                    ctx.fillStyle = '#FF9933';
                    ctx.fillRect(10, 10, 70, 70);
                    ctx.fillStyle = 'white';
                    ctx.font = '30px Baloo 2';
                    ctx.fillText('RSS', 20, 55);
                }
            } catch (error) {
                console.error("Error drawing logo image:", error);
            }

            // Main Title
            ctx.fillStyle = '#800000';
            ctx.font = `24px 'Baloo 2'`;
            ctx.textAlign = 'center';
            ctx.fillText("рд░рд╛рд╖реНрдЯреНрд░реАрдп рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХ рд╕рдВрдШ, рд╢рд┐рд░рдкреВрд░", width / 2, 40);
            ctx.font = `30px 'Baloo 2' bold`;
            ctx.fillText("рдкрде рд╕рдВрдЪрд▓рди", width / 2, 80);

            // Dynamic Name
            ctx.fillStyle = '#FF6600';
            ctx.font = `28px 'Baloo 2' bold`;
            ctx.textAlign = 'center';
            ctx.fillText(`рдирд┐рдордВрддреНрд░рдХ: ${name}`, width / 2, 140);
            
            // Event Details (UPDATED TIME TO 09:00 AM)
            ctx.fillStyle = '#333333';
            ctx.font = `18px 'Baloo 2'`;
            ctx.textAlign = 'center';
            ctx.fillText("рд╡рд┐рдЬрдпрджрд╢рдореА рд╢рддрд╛рдмреНрджреА рд╡рд░реНрд╖", width / 2, 180);
            ctx.font = `20px 'Baloo 2' bold`;
            ctx.fillText("рджрд┐рдирд╛рдВрдХ: режреи рдСрдХреНрдЯреЛрдмрд░ реирежреирел, рдЧреБрд░реБрд╡рд╛рд░", width / 2, 220);
            ctx.fillText("рд╡реЗрд│: рд╕рдХрд╛рд│реА режреп:режреж рд╡рд╛рдЬреЗрдкрд╛рд╕реВрди", width / 2, 250);
            ctx.fillText("рд╕реНрдерд│: рд╢рд┐рд░рдкреВрд░ (Path Sanchalan)", width / 2, 280);

            // Footer Message
            ctx.fillStyle = '#800000';
            ctx.font = `14px 'Baloo 2'`;
            ctx.textAlign = 'center';
            ctx.fillText("рдпрд╛ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╕реЛрд╣рд│реНрдпрд╛рдЪреЗ рд╕рд╛рдХреНрд╖реАрджрд╛рд░ рд░рд╣рд╛!", width / 2, height - 20);
        }
        
        // --- SHARE AND DOWNLOAD FUNCTIONS (CONFIRMED FUNCTIONAL) ---
        function downloadCard() {
            const dataURL = cardCanvas.toDataURL('image/png');
            const a = document.createElement('a');
            a.href = dataURL;
            a.download = 'RSS_Pathsanchalan_Card.png';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showMessage("рдХрд╛рд░реНрдб рдпрд╢рд╕реНрд╡реАрд░рд┐рддреНрдпрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдЭрд╛рд▓реЗ!", 'text-green-600');
        }

        function shareCard(platform) {
            const cardDataURL = cardCanvas.toDataURL('image/png');
            const message = "рд░рд╛рд╖реНрдЯреНрд░реАрдп рд╕реНрд╡рдпрдВрд╕реЗрд╡рдХ рд╕рдВрдШ, рд╢рд┐рд░рдкреВрд░ рдЖрдпреЛрдЬрд┐рдд рд╡рд┐рдЬрдпрджрд╢рдореА рдкрде рд╕рдВрдЪрд▓рди рдирд┐рдордВрддреНрд░рдг. реи рдСрдХреНрдЯреЛрдмрд░ реирежреирел. рддреБрдореНрд╣реА рдкрдг рдЖрдкрд▓рд╛ рдХрд╛рд░реНрдб рддрдпрд╛рд░ рдХрд░рд╛!";
            
            if (platform === 'whatsapp') {
                // Opens WhatsApp with a text message and a link to the page (best method without server)
                const whatsappURL = `whatsapp://send?text=${encodeURIComponent(message + ' ' + window.location.href)}`;
                window.open(whatsappURL, '_blank');
                showMessage("WhatsApp рд╡рд░ рд╢реЗрдЕрд░ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рдд рдЖрд╣реЗ...", 'text-green-600');
            } else if (platform === 'facebook') {
                // Shares a link to the page (best method without server)
                const facebookURL = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(message)}`;
                window.open(facebookURL, '_blank');
                showMessage("Facebook рд╡рд░ рд╢реЗрдЕрд░ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рдд рдЖрд╣реЗ...", 'text-green-600');
            } else if (platform === 'copy') {
                // Copies the link to the page
                const linkToCopy = window.location.href;
                copyToClipboard(linkToCopy, "рд▓рд┐рдВрдХ рдХреЙрдкреА рдЭрд╛рд▓реА! рдЖрддрд╛ рддреБрдореНрд╣реА рддреА рдХреЛрдгрд╛рд▓рд╛рд╣реА рдкрд╛рдард╡реВ рд╢рдХрддрд╛.");
            }
        }
        
        function copyToClipboard(text, successMessage) {
            // Using document.execCommand('copy') for better compatibility in iframe environments
            const tempInput = document.createElement('textarea');
            tempInput.value = text;
            document.body.appendChild(tempInput);
            tempInput.select();
            try {
                document.execCommand('copy');
                showMessage(successMessage, 'text-green-600');
            } catch (err) {
                showMessage("рдХреЙрдкреА рдХрд░рдгреНрдпрд╛рдд рддреНрд░реБрдЯреА рдЖрд▓реА. рдХреГрдкрдпрд╛ рдореЕрдиреНрдпреБрдЕрд▓реА рдХреЙрдкреА рдХрд░рд╛.", 'text-red-600');
            } finally {
                document.body.removeChild(tempInput);
            }
        }

        function showMessage(msg, colorClass) {
            shareMessage.textContent = msg;
            shareMessage.className = `text-sm mt-2 ${colorClass}`;
            shareMessage.classList.remove('hidden');
            setTimeout(() => {
                shareMessage.classList.add('hidden');
            }, 5000);
        }

        // Pre-load the logo image for canvas drawing
        logoImage.onload = function() {
            console.log("Logo image loaded successfully.");
        };

        logoImage.onerror = function() {
            console.error("Logo image failed to load. Using fallback text.");
        };

    </script>
</body>
</html>

