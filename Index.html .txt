<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>राष्ट्रीय स्वयंसेवक संघ | विजयदशमी उत्सव</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Baloo 2 for Devanagari elegance -->
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMDJ8gT4SPG1T6MCT2wS7k2Vz9oD5n6N3sH6a3lJ6P+n5q7oR9tE7Kj1g5o9i+A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Custom Devanagari Font */
        .devanagari {
            font-family: 'Baloo 2', cursive;
        }

        /* Dynamic Background with Saffron/Gold/Maroon Palette */
        body {
            background: linear-gradient(-45deg, #FF6600, #FFD700, #800000, #FF4500);
            background-size: 400% 400%;
            animation: gradient-bg 15s ease infinite;
        }

        @keyframes gradient-bg {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Flag Waving Animation */
        .flag-container {
            perspective: 500px;
        }

        .bhagwa-flag {
            /* Saffron Color */
            background-color: #FF9933;
            box-shadow: 0 4px 15px rgba(255, 153, 51, 0.5);
            transform-origin: 0% 50%;
            animation: wave 3s infinite alternate;
        }

        @keyframes wave {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(5deg); }
        }

        /* Sparkle effect using filter on hover/touch */
        .bhagwa-flag:hover, .bhagwa-flag.touched {
            filter: drop-shadow(0 0 10px #FFD700) drop-shadow(0 0 20px #FF9933);
        }

        /* Custom Card Styles */
        #card-preview-container {
            height: 350px; /* Fixed height for canvas */
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            border: 4px solid #FF9933;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            background-color: white;
            border-radius: 1rem;
            overflow: hidden;
            position: relative;
        }
        
        /* Particle effect for flag sparkle */
        .particle {
            position: absolute;
            background: radial-gradient(circle, #ffd700, #ff9933);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            width: 8px;
            height: 8px;
            z-index: 50;
        }

        .fade-in {
            animation: fadeIn 1s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .contact-info > div {
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body class="min-h-screen text-gray-900 dewanagari p-2 md:p-6">
    <div id="app-container" class="max-w-6xl mx-auto bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-4 md:p-8 space-y-12">

        <!-- 1. Top Banner / Header Strip -->
        <header class="text-center text-sm md:text-base font-bold text-white bg-[#800000] p-2 rounded-xl shadow-lg">
            <div class="flex justify-between items-center max-w-4xl mx-auto dewanagari">
                <span class="p-1">युगाब्द ५१२७</span>
                <span class="text-xl md:text-2xl font-extrabold text-[#FFD700]">।। ॐ ।।</span>
                <span class="p-1">शिवराज शके ३५१</span>
            </div>
        </header>

        <!-- 2. Hero Section -->
        <section id="hero" class="text-center relative overflow-hidden p-6 md:p-10 rounded-2xl bg-gradient-to-br from-white to-[#fff0e6] shadow-xl border-t-4 border-[#FF9933] fade-in">
            <div class="flex flex-col md:flex-row items-center justify-between">
                <!-- Titles and Countdown -->
                <div class="md:w-3/5 text-center md:text-left">
                    <h1 class="text-3xl md:text-5xl font-extrabold text-[#FF6600] leading-tight mb-2">
                        राष्ट्रीय स्वयंसेवक संघ, शिरपूर
                    </h1>
                    <h2 class="text-xl md:text-3xl font-bold text-[#800000] mb-6">
                        विजयदशमी उत्सव
                    </h2>
                    
                    <!-- Countdown Timer -->
                    <div class="mt-8 bg-[#FF9933]/10 p-4 rounded-xl shadow-inner inline-block">
                        <p id="countdown-title" class="text-lg md:text-xl font-bold text-[#800000] mb-2">
                            पथ-संचलन सुरू होण्यास बाकी
                        </p>
                        <div id="countdown-timer" class="flex justify-center md:justify-start space-x-2 md:space-x-4 text-4xl md:text-5xl font-extrabold text-[#FF4500]">
                            <!-- Timer values inserted by JS -->
                        </div>
                        <p class="text-sm md:text-base text-gray-600 mt-2">
                            दिनांक: २ ऑक्टोबर, सकाळी ०९ वाजेपासून
                        </p>
                    </div>
                </div>

                <!-- Animated Bhagwa Flag -->
                <div class="md:w-2/5 flex justify-center md:justify-end mt-8 md:mt-0 flag-container">
                    <div id="bhagwa-flag" class="bhagwa-flag w-40 h-60 md:w-48 md:h-72 rounded-t-lg transition-all duration-300 relative cursor-pointer" onclick="handleFlagTouch(event)" onmouseover="handleFlagTouch(event)">
                        <div class="text-center absolute bottom-0 left-1/2 transform -translate-x-1/2 text-white font-bold text-3xl pb-2">ॐ</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Invitation / Event Details Section -->
        <section id="event-details" class="p-6 md:p-10 bg-gray-50 rounded-2xl shadow-inner fade-in">
            <p class="text-xl md:text-2xl font-bold text-[#800000] mb-4">श्रीमान / श्रीमती, सस्नेह नमस्कार</p>
            <p class="text-base md:text-lg text-gray-700 leading-relaxed mb-6">
                श्री विजयदशमी म्हणजे पौरुष तथा शक्ति जागरणचा पवित्र सण, मानवी कल्याण हा उद्देश घेऊन वाटचाल करणाऱ्या आपल्या राष्ट्रीय स्वयंसेवक संघाने कार्य का पवित्र सणाला सुरु झाले, ज्याला या वर्षी १०० वर्ष पूर्ण होत आहेत. शताब्दी वर्षाच्या या ऐतिहासिक सोहळ्याचे आपण साक्षीदार रहावे आपणास हे स्नेहपूर्ण निमंत्रण.
            </p>

            <div class="grid md:grid-cols-2 gap-6 mt-8">
                <!-- Event Details Box -->
                <div class="bg-[#FFF8E1] p-6 rounded-xl shadow-lg border-l-4 border-[#FF9933]">
                    <h3 class="text-xl font-extrabold text-[#FF6600] mb-3">उत्सवाचे तपशील</h3>
                    <p class="mb-2"><span class="font-bold text-[#800000]">दिनांक:</span> आश्विन शुद्ध द्वादशी, दि.०४ ऑक्टोबर. २०२५ शनिवार, वेळ : सायंकाळी ०६ वा.</p>
                    <p class="mb-2"><span class="font-bold text-[#800000]">स्थळ:</span> शिरपूर तालुका क्रीडा संकुल, बजरंगदाढा जिमखाना मागे, बाजार समिती जवळ, शिरपूर</p>
                </div>

                <!-- Guests Box -->
                <div class="bg-white p-6 rounded-xl shadow-lg border-r-4 border-[#800000]">
                    <h3 class="text-xl font-extrabold text-[#FF6600] mb-3">प्रमुख पाहुणे आणि मार्गदर्शन</h3>
                    <div class="mb-4">
                        <p class="font-extrabold text-[#800000]">मा. डॉ. सुक्राम मोतीराम पावरा</p>
                        <p class="text-sm">(आरोग्य दूत व समाजसेवक, सांगवी)</p>
                        <p class="font-extrabold text-[#800000] mt-2">मा. दिलीप दगडू बाशिंगे</p>
                        <p class="text-sm">(समाजसेवक, संचालक, गोल्डन बॅन्ड, शिरपूर)</p>
                    </div>
                    <div class="border-t pt-3">
                        <p class="font-extrabold text-[#800000]">मा. श्री. रवींद्र जी किरकोळे</p>
                        <p class="text-sm">(अखिल भारतीय समरसता सहसंयोजक, राष्ट्रीय स्वयंसेवक संघ)</p>
                    </div>
                </div>
            </div>
            
            <p class="mt-6 text-center text-lg font-bold text-[#800000]">
                आपण सहकुटुंब सहपरिवार इष्टमित्रांसह नियोजित वेळेपूर्वी उपस्थित रहावे, हि नम्र विनंती.
            </p>
            <p class="mt-4 text-center text-md font-semibold text-gray-700">
                विनित: प्रा. डॉ. सुनील चुनीलाल गोराणे, तालुका संघचालक, शिरपूर
            </p>
        </section>

        <!-- 4. Pathsanchalan Information Section -->
        <section id="pathsanchalan" class="p-6 md:p-10 bg-[#FFD700]/10 rounded-2xl shadow-xl fade-in">
            <h3 class="text-2xl md:text-3xl font-extrabold text-[#800000] text-center mb-6 border-b-2 border-[#FF9933] pb-3">
                सघोष पथसंचलन (आश्विन शु दशमी दि.०२/१०/२०२५, गुरुवार सकाळी ०९ वा.)
            </h3>
            <p class="text-base md:text-lg text-gray-700 text-center mb-8">
                विजयदशमीच्या शुभ दिनी पथसंचलन निघणार आहे. सर्व स्वयंसेवकांनी, इच्छुककांनी या शताब्दी वर्षाचे ऐतिहासिक औचित्यावर पूर्ण गणवेशात संचलनात सहभागी व्हावे.
            </p>

            <div class="grid md:grid-cols-2 gap-8">
                <!-- Path 1: Adults/Seniors -->
                <div class="bg-white p-5 rounded-xl shadow-md border-l-4 border-[#FF6600]">
                    <h4 class="text-xl font-bold text-[#FF6600] mb-3">पथसंचलन मार्ग – प्रौढ, ज्येष्ठ नागरिक</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-700">
                        <li>बस स्टँड समोर</li>
                        <li>आश्रमाशाळा (आश्रम)</li>
                        <li>विजयस्तंभ – कुंभार टेक</li>
                        <li>कार्यक्रम स्थळ</li>
                    </ul>
                </div>

                <!-- Path 2: Youth -->
                <div class="bg-white p-5 rounded-xl shadow-md border-r-4 border-[#FF6600]">
                    <h4 class="text-xl font-bold text-[#FF6600] mb-3">पथसंचलन मार्ग – युवा नागरिक</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-700">
                        <li>महात्मा फुले हायस्कूल (आश्रम)</li>
                        <li>विजयस्तंभ – कुंभार टेक</li>
                        <li>कार्यक्रम स्थळ</li>
                    </ul>
                </div>
            </div>

            <!-- Contact Info -->
            <div class="bg-[#800000] text-white p-4 rounded-xl mt-8 text-center shadow-lg contact-info">
                <h4 class="text-lg font-bold mb-2">गणवेशासाठी संपर्क:</h4>
                <div class="flex flex-col sm:flex-row justify-center sm:space-x-8">
                    <p>श्री. नितीन चौधरी (नगर) <span class="font-extrabold">८२७७५५४२८६</span></p>
                    <p>श्री. निलेश परदेशी (ग्रामीण) <span class="font-extrabold">८३९०८८८४५</span></p>
                </div>
            </div>
        </section>

        <!-- 5. Personalized E-Invitation Card Generator Section -->
        <section id="card-generator" class="p-6 md:p-10 bg-white rounded-2xl shadow-2xl border-t-8 border-[#FFD700] fade-in">
            <h3 class="text-2xl md:text-3xl font-extrabold text-[#FF6600] text-center mb-8">
                आपला विशेष निमंत्रण पत्रक तयार करा
            </h3>

            <div class="max-w-xl mx-auto space-y-6">
                <!-- User Input -->
                <label for="userName" class="block text-lg font-semibold text-gray-700">आपले नाव इथे लिहा:</label>
                <input type="text" id="userName" placeholder="उदाहरणार्थ: जयेश सोनार" class="w-full p-3 border-2 border-[#FF9933] rounded-lg focus:outline-none focus:ring-4 focus:ring-[#FF9933]/50 transition duration-300 dewanagari text-lg">
                
                <!-- Button -->
                <button onclick="generateCard()" id="generate-btn" class="w-full bg-[#FF6600] text-white text-xl font-bold p-3 rounded-xl shadow-xl hover:bg-[#FF4500] transition duration-300 transform hover:scale-[1.02] active:scale-95 glow-button">
                    माझा कार्ड तयार करा
                </button>
            </div>

            <!-- Card Preview and Share -->
            <div id="card-result" class="mt-10 text-center hidden">
                <h4 class="text-xl font-bold text-[#800000] mb-4">तुमचा कार्ड तयार आहे!</h4>
                <div id="card-preview-container" class="relative">
                    <canvas id="card-canvas"></canvas>
                </div>
                
                <div id="share-controls" class="mt-6 space-y-4">
                    <button onclick="downloadCard()" class="bg-[#800000] text-white px-6 py-3 rounded-full font-bold shadow-lg hover:bg-black transition duration-300 flex items-center justify-center mx-auto space-x-2">
                        <i class="fas fa-download"></i>
                        <span>कार्ड डाउनलोड करा</span>
                    </button>
                    <div class="flex justify-center space-x-4">
                        <button onclick="shareCard('whatsapp')" class="bg-green-500 text-white p-3 rounded-full hover:bg-green-600 transition duration-300 shadow-md">
                            <i class="fab fa-whatsapp text-2xl"></i>
                        </button>
                        <button onclick="shareCard('facebook')" class="bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition duration-300 shadow-md">
                            <i class="fab fa-facebook-f text-2xl"></i>
                        </button>
                        <button onclick="shareCard('copy')" class="bg-gray-700 text-white p-3 rounded-full hover:bg-gray-800 transition duration-300 shadow-md">
                            <i class="fas fa-link text-2xl"></i>
                        </button>
                    </div>
                    <p class="text-sm text-gray-500 mt-2" id="share-message"></p>
                </div>
            </div>
        </section>

        <!-- 6. Footer -->
        <footer class="text-center py-4 text-gray-500">
            <p class="text-xs">RSS शताब्दी वर्ष उत्सव © २०२५</p>
            <p class="text-xs mt-1 opacity-70">Watermark: Made by Jayesh Sonar</p>
        </footer>

    </div>

    <!-- JavaScript for Functionality and Animations -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            startCountdown();
            setupFlagInteractions();
            // Ensure card canvas is resized on load
            window.addEventListener('resize', () => {
                if (!cardResult.classList.contains('hidden')) {
                    drawCard(userNameInput.value.trim());
                }
            });
        });

        // Updated TARGET_DATE to 2025 and 9:00 AM (Path Sanchalan start time)
        const TARGET_DATE = new Date("October 2, 2025 09:00:00").getTime();
        const countdownTimer = document.getElementById('countdown-timer');

        // --- COUNTDOWN LOGIC ---
        function startCountdown() {
            const updateTimer = () => {
                const now = new Date().getTime();
                let distance = TARGET_DATE - now;
                
                // Set distance to 0 if the time has passed, ensuring display is 00 00 00 00
                distance = Math.max(0, distance); 
                
                // This logic ensures the display always shows time units, even if 00.
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                const formatTime = (value, unit) => `<span class="p-1 rounded-lg bg-[#FFD700] shadow-md">${value.toString().padStart(2, '0')}</span><span class="text-lg ml-1 mr-3 text-[#800000]">${unit}</span>`;

                if (distance === 0) {
                     countdownTimer.innerHTML = '<span class="text-2xl font-bold text-[#800000]">कार्यक्रमाला सुरुवात झाली!</span>';
                } else {
                    countdownTimer.innerHTML =
                        formatTime(days, 'दिवस') +
                        formatTime(hours, 'तास') +
                        formatTime(minutes, 'मिनिटे') +
                        formatTime(seconds, 'सेकंद');
                }
            };

            updateTimer();
            const interval = setInterval(updateTimer, 1000);
        }
        
        // --- BHAGWA FLAG SPARKLE AND FLOWER EFFECT (UNCHANGED) ---
        const bhagwaFlag = document.getElementById('bhagwa-flag');
        const flagContainer = document.querySelector('.flag-container');

        function createParticle(x, y) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            flagContainer.appendChild(particle);

            // Randomize size and duration for a better sparkle
            const size = Math.random() * 8 + 4;
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;

            // Random direction and duration
            const angle = Math.random() * 360;
            const distance = Math.random() * 50 + 20;
            const duration = Math.random() * 1 + 0.5;

            particle.animate([
                { opacity: 1, transform: 'translate(0, 0)' },
                { opacity: 0, transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)` }
            ], {
                duration: duration * 1000,
                easing: 'ease-out'
            });

            setTimeout(() => particle.remove(), duration * 1000);
        }

        function createFlowerPetal(x, y) {
            const petal = document.createElement('div');
            petal.className = 'text-xl absolute z-40';
            petal.innerHTML = '🌼'; // Marigold-like flower emoji/text
            petal.style.left = `${x}px`;
            petal.style.top = `${y}px`;
            flagContainer.appendChild(petal);

            const duration = Math.random() * 2 + 1.5;
            const sideMovement = Math.random() * 40 - 20;

            petal.animate([
                { opacity: 1, transform: 'translate(0, 0) rotate(0deg)' },
                { opacity: 0, transform: `translate(${sideMovement}px, 150px) rotate(360deg)` }
            ], {
                duration: duration * 1000,
                easing: 'ease-in'
            });

            setTimeout(() => petal.remove(), duration * 1000);
        }

        function handleFlagTouch(e) {
            const rect = bhagwaFlag.getBoundingClientRect();
            let x, y;

            if (e.type === 'click' || e.type === 'mouseover') {
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            } else if (e.touches && e.touches.length > 0) {
                // For touch events
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
                bhagwaFlag.classList.add('touched');
                setTimeout(() => bhagwaFlag.classList.remove('touched'), 500);
            } else {
                return;
            }
            
            // Create multiple particles and petals near the interaction point
            for (let i = 0; i < 5; i++) {
                createParticle(x + (Math.random() * 10 - 5), y + (Math.random() * 10 - 5));
            }
            createFlowerPetal(x, y);
        }
        
        function setupFlagInteractions() {
            bhagwaFlag.addEventListener('click', handleFlagTouch);
            bhagwaFlag.addEventListener('mouseover', handleFlagTouch);
            bhagwaFlag.addEventListener('touchstart', handleFlagTouch);
        }


        // --- CARD GENERATOR LOGIC ---
        const cardCanvas = document.getElementById('card-canvas');
        const cardContainer = document.getElementById('card-preview-container');
        const cardResult = document.getElementById('card-result');
        const userNameInput = document.getElementById('userName');
        const shareMessage = document.getElementById('share-message');
        const LOGO_URL = 'https://enormous-chocolate-u4bknp43fp.edgeone.app/86d56753-590a-49f0-b3d7-a84a67c8c8152f.jpeg';
        let logoImage = new Image();
        logoImage.crossOrigin = 'Anonymous';
        logoImage.src = LOGO_URL;

        function generateCard() {
            const userName = userNameInput.value.trim();
            if (!userName) {
                showMessage("कृपया आपले नाव प्रविष्ट करा.", 'text-red-600');
                return;
            }
            
            cardResult.classList.remove('hidden');
            
            // Delay drawing slightly to ensure the canvas container size updates after removing 'hidden'
            setTimeout(() => drawCard(userName), 50);
        }

        function drawCard(name) {
            // Set canvas size dynamically based on container
            const width = cardContainer.clientWidth;
            const height = cardContainer.clientHeight;
            cardCanvas.width = width;
            cardCanvas.height = height;

            const ctx = cardCanvas.getContext('2d');
            
            // Background (Saffron/White gradient)
            const gradient = ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, '#FFF8E1');
            gradient.addColorStop(0.2, '#FFE5B4');
            gradient.addColorStop(1, 'white');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);

            // Border (Maroon)
            ctx.strokeStyle = '#800000';
            ctx.lineWidth = 10;
            ctx.strokeRect(0, 0, width, height);

            // RSS Logo (Top Left)
            try {
                // Draw image if loaded
                if (logoImage.complete && logoImage.naturalHeight !== 0) {
                    ctx.drawImage(logoImage, 10, 10, 70, 70);
                } else {
                    // Fallback for logo
                    ctx.fillStyle = '#FF9933';
                    ctx.fillRect(10, 10, 70, 70);
                    ctx.fillStyle = 'white';
                    ctx.font = '30px Baloo 2';
                    ctx.fillText('RSS', 20, 55);
                }
            } catch (error) {
                console.error("Error drawing logo image:", error);
            }

            // Main Title
            ctx.fillStyle = '#800000';
            ctx.font = `24px 'Baloo 2'`;
            ctx.textAlign = 'center';
            ctx.fillText("राष्ट्रीय स्वयंसेवक संघ, शिरपूर", width / 2, 40);
            ctx.font = `30px 'Baloo 2' bold`;
            ctx.fillText("पथ संचलन", width / 2, 80);

            // Dynamic Name
            ctx.fillStyle = '#FF6600';
            ctx.font = `28px 'Baloo 2' bold`;
            ctx.textAlign = 'center';
            ctx.fillText(`निमंत्रक: ${name}`, width / 2, 140);
            
            // Event Details (UPDATED TIME TO 09:00 AM)
            ctx.fillStyle = '#333333';
            ctx.font = `18px 'Baloo 2'`;
            ctx.textAlign = 'center';
            ctx.fillText("विजयदशमी शताब्दी वर्ष", width / 2, 180);
            ctx.font = `20px 'Baloo 2' bold`;
            ctx.fillText("दिनांक: ०२ ऑक्टोबर २०२५, गुरुवार", width / 2, 220);
            ctx.fillText("वेळ: सकाळी ०९:०० वाजेपासून", width / 2, 250);
            ctx.fillText("स्थळ: शिरपूर (Path Sanchalan)", width / 2, 280);

            // Footer Message
            ctx.fillStyle = '#800000';
            ctx.font = `14px 'Baloo 2'`;
            ctx.textAlign = 'center';
            ctx.fillText("या ऐतिहासिक सोहळ्याचे साक्षीदार रहा!", width / 2, height - 20);
        }
        
        // --- SHARE AND DOWNLOAD FUNCTIONS (CONFIRMED FUNCTIONAL) ---
        function downloadCard() {
            const dataURL = cardCanvas.toDataURL('image/png');
            const a = document.createElement('a');
            a.href = dataURL;
            a.download = 'RSS_Pathsanchalan_Card.png';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showMessage("कार्ड यशस्वीरित्या डाउनलोड झाले!", 'text-green-600');
        }

        function shareCard(platform) {
            const cardDataURL = cardCanvas.toDataURL('image/png');
            const message = "राष्ट्रीय स्वयंसेवक संघ, शिरपूर आयोजित विजयदशमी पथ संचलन निमंत्रण. २ ऑक्टोबर २०२५. तुम्ही पण आपला कार्ड तयार करा!";
            
            if (platform === 'whatsapp') {
                // Opens WhatsApp with a text message and a link to the page (best method without server)
                const whatsappURL = `whatsapp://send?text=${encodeURIComponent(message + ' ' + window.location.href)}`;
                window.open(whatsappURL, '_blank');
                showMessage("WhatsApp वर शेअर करण्याचा प्रयत्न करत आहे...", 'text-green-600');
            } else if (platform === 'facebook') {
                // Shares a link to the page (best method without server)
                const facebookURL = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(message)}`;
                window.open(facebookURL, '_blank');
                showMessage("Facebook वर शेअर करण्याचा प्रयत्न करत आहे...", 'text-green-600');
            } else if (platform === 'copy') {
                // Copies the link to the page
                const linkToCopy = window.location.href;
                copyToClipboard(linkToCopy, "लिंक कॉपी झाली! आता तुम्ही ती कोणालाही पाठवू शकता.");
            }
        }
        
        function copyToClipboard(text, successMessage) {
            // Using document.execCommand('copy') for better compatibility in iframe environments
            const tempInput = document.createElement('textarea');
            tempInput.value = text;
            document.body.appendChild(tempInput);
            tempInput.select();
            try {
                document.execCommand('copy');
                showMessage(successMessage, 'text-green-600');
            } catch (err) {
                showMessage("कॉपी करण्यात त्रुटी आली. कृपया मॅन्युअली कॉपी करा.", 'text-red-600');
            } finally {
                document.body.removeChild(tempInput);
            }
        }

        function showMessage(msg, colorClass) {
            shareMessage.textContent = msg;
            shareMessage.className = `text-sm mt-2 ${colorClass}`;
            shareMessage.classList.remove('hidden');
            setTimeout(() => {
                shareMessage.classList.add('hidden');
            }, 5000);
        }

        // Pre-load the logo image for canvas drawing
        logoImage.onload = function() {
            console.log("Logo image loaded successfully.");
        };

        logoImage.onerror = function() {
            console.error("Logo image failed to load. Using fallback text.");
        };

    </script>
</body>
</html>

